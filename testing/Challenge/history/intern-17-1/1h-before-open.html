<html>
<head>
	<script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.min.css">	
	<style>
		.no{background-color: #FAA;}
		.one{background-color: #9F9;}
		.many{background-color: #FD0;}
	</style>
</head>
<body>
	<div id="container" />

<script>
	{
		var res = {
  "Babkin Rastorguev" : {
    "implementations" : [ 2, 1, 1, 1, 1, 1, 4, 1, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0 ],
    "time" : "2017-03-16T07:00:01.8509458Z"
  },
  "Bessonov Karmanov" : {
    "implementations" : [ 1, 2, 1, 1, 0, 1, 2, 1, 0, 0, 2, 0, 2, 0, 0, 0, 1, 0, 0, 0 ],
    "time" : "2017-03-16T06:58:47.0157047Z"
  },
  "Egorov" : {
    "implementations" : [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ],
    "time" : "2017-03-16T06:00:15.635945Z"
  },
  "Gachegov Kursanova" : {
    "implementations" : [ 2, 2, 1, 1, 0, 1, 1, 2, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0 ],
    "time" : "2017-03-16T06:59:05.3923935Z"
  },
  "Gilemzyanov Akentev" : {
    "implementations" : [ 2, 1, 1, 1, 0, 1, 3, 2, 2, 2, 0, 2, 1, 0, 0, 0, 0, 0, 0, 0 ],
    "time" : "2017-03-16T06:59:02.6359296Z"
  },
  "Koshara Starkov" : {
    "implementations" : [ 1, 2, 2, 1, 1, 1, 3, 1, 0, 1, 1, 1, 1, 0, 0, 0, 2, 1, 0, 0 ],
    "time" : "2017-03-16T06:59:14.613288Z"
  },
  "Pavlenko Varlakov" : {
    "implementations" : [ 6, 2, 1, 0, 0, 1, 2, 0, 2, 3, 0, 3, 4, 0, 0, 0, 0, 0, 2, 0 ],
    "time" : "2017-03-16T06:58:55.1785871Z"
  },
  "Shirokov Luppov" : {
    "implementations" : [ 1, 4, 3, 1, 0, 1, 2, 2, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0 ],
    "time" : "2017-03-16T06:55:59.5150345Z"
  },
  "Zelenin Fettser" : {
    "implementations" : [ 2, 1, 0, 2, 0, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ],
    "time" : "2017-03-16T06:58:19.7362143Z"
  },
  "Ермак Тушов" : {
    "implementations" : [ 11, 0, 0, 0, 0, 0, 5, 2, 0, 2, 0, 2, 3, 0, 0, 0, 3, 3, 0, 0 ],
    "time" : "2017-03-16T06:53:52.6088896Z"
  },
  "Квантовый Механик" : {
    "implementations" : [ 1, 2, 1, 1, 1, 1, 1, 0, 0, 1, 2, 1, 2, 0, 0, 0, 0, 0, 0, 0 ],
    "time" : "2017-03-16T06:40:55.2188505Z"
  },
  "Мустакимов Лысенко" : {
    "implementations" : [ 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 2, 0, 0, 0 ],
    "time" : "2017-03-16T08:56:20.776176Z"
  }
};
		var html = "<table class='table table-condensed'>";
		html += "<tr>";
		["Name", "C", "E", "CR", "E2", "E3", "E4", "L2", "L3", "L4", "O1", "O2", "O3", "O4", "123", "998", "999", "EN1", "EN2", "QWE", "STA"].forEach(
			v => html += "<th>" + v + "</th>");
		html += "</tr>";
		var names = Object.keys(res);
		names.sort((a,b) => -countNonzero(res[a].implementations) + countNonzero(res[b].implementations));
		names.forEach(function(name){
			html += "<tr><td>" + name.replace("<", "").replace(">", "") + "</td>";
			res[name].implementations.forEach(v => html += formatCell(v));
			html += "</tr>";
		});
		html += "</table>";
		document.getElementById("container").innerHTML = html;
	};
	
	function countNonzero(arr){
		return arr.filter(v => v > 0).length;
	}

	function formatCell(v){
		var clazz = v == 0 ? "no" : (v == 1 ? "one" : "many");
		return "<td class='" + clazz + "'>" + v + "</td>"; 
	}
</script>
</body>
</html>